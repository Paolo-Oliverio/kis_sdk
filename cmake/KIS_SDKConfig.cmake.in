# cmake/KIS_SDKConfig.cmake.in

@PACKAGE_INIT@

# This file is the entry point for any project using our SDK.
# Its only job is to add the unified SDK installation root to the user's
# CMAKE_PREFIX_PATH, so that find_package() can find all the SDK's packages.

get_filename_component(MY_INSTALL_ROOT "${CMAKE_CURRENT_LIST_DIR}/../../../" REALPATH)

# Prepend our path to CMAKE_PREFIX_PATH so it is searched first.
# Use a guard to prevent adding it multiple times.
if(NOT KIS_SDK_CONFIG_INCLUDED)
    set(KIS_SDK_CONFIG_INCLUDED TRUE)

    list(PREPEND CMAKE_PREFIX_PATH "${MY_INSTALL_ROOT}")
    
    message(STATUS "Found KIS_SDK: Adding '${MY_INSTALL_ROOT}' to CMAKE_PREFIX_PATH")
endif()

# We can find individual packages like this:
# find_package(core_utils REQUIRED)
# find_package(rendering_engine REQUIRED)